<template>
    <template if:true={fieldList} >
        <c-my-task-popover placement="left" size="large" has-header has-body>
            <a slot="value" class="slds-text-body_small"><b>{recordName}</b></a>
            <div slot="header">
                <div class="slds-media slds-media_center slds-m-bottom_small slds-p-horizontal_small">
                    <div class="slds-avatar slds-m-right_small" style={iconStyle}>
                        <img src={themeInfo.iconUrl} />
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-text-heading_medium slds-hyphenate" >
                            <lightning-record-view-form  if:true={fieldList} object-api-name={objectApiName} record-id={recordId}>
                                <lightning-output-field class="bold" variant="label-hidden" field-name="Name"></lightning-output-field>
                            </lightning-record-view-form>
                        </h2>
                    </div>
                </div>
            </div>
            <div slot="body">
                <lightning-record-view-form  if:true={fieldList} object-api-name={objectApiName} record-id={recordId}>
                    <div class="slds-grid slds-wrap">
                        <template for:each={fieldList} for:item="field" >
                            <div key={field} class="slds-p-horizontal_small slds-col slds-size_1-of-2 slds-p-bottom_x-small">
                                <dl>
                                  <dt>
                                    <p class="slds-popover_panel__label slds-truncate">{field.label}</p>
                                  </dt>
                                  <dd>
                                    <lightning-output-field variant="label-hidden" field-name={field.apiName}></lightning-output-field>
                                  </dd>
                                </dl>
                              </div>
                        </template>
                    </div>
                </lightning-record-view-form>
            </div>
        </c-my-task-popover>
    </template>
    <template if:false={fieldList}>
        <c-my-task-popover placement="left" size="small" has-header>
            <a slot="value" class="slds-text-body_small"><b>{recordName}</b></a>
            <div slot="header">
                <h2 class="slds-text-heading_small">Field set to be configured</h2>
            </div>
        </c-my-task-popover>
    </template>
</template>